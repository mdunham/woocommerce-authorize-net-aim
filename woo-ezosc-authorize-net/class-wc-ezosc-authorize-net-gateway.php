<?phpfunction sendTransactionToGateway($url, $parameters,$useProxy = '') {  $server = parse_url($url);  if ( !isset($server['port']) ) {    $server['port'] = ($server['scheme'] == 'https') ? 443 : 80;  }  if ( !isset($server['path']) ) {    $server['path'] = '/';  }  $curl = curl_init($server['scheme'] . '://' . $server['host'] . $server['path'] . (isset($server['query']) ? '?' . $server['query'] : ''));  curl_setopt($curl, CURLOPT_PORT, $server['port']);  curl_setopt($curl, CURLOPT_HEADER, false);  curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);  curl_setopt($curl, CURLOPT_FORBID_REUSE, true);  curl_setopt($curl, CURLOPT_FRESH_CONNECT, true);  curl_setopt($curl, CURLOPT_POST, true);  curl_setopt($curl, CURLOPT_POSTFIELDS, $parameters);  curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);    if ( trim($valueProxy) != '')  {    curl_setopt($curl, CURLOPT_HTTPPROXYTUNNEL, true);    curl_setopt($curl, CURLOPT_PROXY, $valueProxy);  }  $result = curl_exec($curl);  curl_close($curl);  return $result;}function ezoscSendAuthorizeNetDebugEmail($email, $params, $response){    $error = 'unknow';    if (!empty($response)) {        switch ($response['x_response_reason_code']) {              case '7':                $error = 'invalid_expiration_date';                break;              case '8':                $error = 'expired';                break;              case '13':                $error = 'merchant_account';                break;              case '6':              case '17':              case '28':                $error = 'declined';                break;              case '39':                $error = 'currency';                break;              case '78':                $error = 'ccv';                break;        }    }            $email_body = '';    $email_body .=  'Error: ' . $error . "<br><br>";                if (!empty($params)) {        $email_body .= 'REQUEST:' . "<br>" . print_r($params, true) . "<br><br>";    }        if (!empty($response)) {        $email_body .= 'RESPONSE:' . "<br><br><br>" . print_r($response, true) . "<br><br>";    }        wc_mail( $email, "Woocommerce Authorize.net AIM Debug", $email_body);}